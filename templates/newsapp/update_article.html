{% extends "newsapp/base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto mt-8 bg-white p-6 rounded-xl shadow-md">
    <h2 class="text-2xl font-bold mb-4 text-gray-800">Edit Article</h2>
    <form method="post" enctype="multipart/form-data" class="space-y-4">
        {% csrf_token %}
        {{ form.non_field_errors }}
        
        <div>
            {{ form.title.label_tag }}
            {{ form.title }}
            {{ form.title.errors }}
        </div>

        <div>
            {{ form.content.label_tag }}
            {{ form.content }}
            {{ form.content.errors }}
        </div>

        <div>
            {{ form.image.label_tag }}
            {% if article.image %}
                <div class="mb-2">
                    <img src="{{ article.image.url }}" alt="{{ article.title }}" class="w-40 h-28 object-cover rounded-lg shadow">
                    <p class="text-sm text-gray-500">Current image</p>
                </div>
            {% endif %}
            {{ form.image }}
            {{ form.image.errors }}
        </div>

        <div>
            {{ form.category.label_tag }}
            {{ form.category }}
            {{ form.category.errors }}
        </div>

        <button type="submit" 
                class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
            Update Article
        </button>
    </form>
</div>
{% endblock %}